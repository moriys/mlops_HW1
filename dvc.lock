schema: '2.0'
stages:
  get-features:
    cmd: python3 scripts/data_scripts/get_features.py data/raw/train.csv
    deps:
    - path: data/raw/train.csv
      md5: f9f50db5ba537df80d7bb0e3d6b40dbf
      size: 30986
    - path: scripts/data_scripts/get_features.py
      md5: b9d1c03b2618070064800c41521511af
      size: 757
    outs:
    - path: data/stage1
      md5: 4d49078ff5adb7e0658b680b1942ec86.dir
      size: 8519
      nfiles: 1
  fiil-na:
    cmd: python3 scripts/data_scripts/fill_na.py data/stage1/train.csv
    deps:
    - path: data/stage1/train.csv
      md5: ade4832c11da5770cdeac8eb71f554ff
      size: 8519
    - path: scripts/data_scripts/fill_na.py
      md5: 5fd77b5bc9768d5247bd91eb7da66d48
      size: 928
    outs:
    - path: data/stage2
      md5: 4d49078ff5adb7e0658b680b1942ec86.dir
      size: 8519
      nfiles: 1
  split:
    cmd: python3 scripts/data_scripts/train_test_split.py data/stage2/train.csv
    deps:
    - path: data/stage2/train.csv
      md5: ade4832c11da5770cdeac8eb71f554ff
      size: 8519
    - path: scripts/data_scripts/train_test_split.py
      md5: 1c04d6e484ce29aec0b8042c37c40143
      size: 958
    params:
      params.yaml:
        split.split_ratio: 0.2
    outs:
    - path: data/stage3
      md5: 0cf523af4acfd3dcc5e20793c607d293.dir
      size: 8497
      nfiles: 2
  train:
    cmd: python3 scripts/model_scripts/dt.py data/stage3/train.csv model.pkl
    deps:
    - path: data/stage3/train.csv
      md5: b8b7822cec4ab2a7257d3cef5a75c7e7
      size: 6796
    - path: scripts/model_scripts/dt.py
      md5: 79dcfea9083ca61bd8c953bbd9488888
      size: 725
    params:
      params.yaml:
        train.max_depth: 2
        train.seed: 42
    outs:
    - path: models/model.pkl
      md5: d762f17147f8fd4e5fba1ca2aa8f193e
      size: 1417
  evaluate:
    cmd: python3 scripts/model_scripts/evaluate.py data/stage3/test.csv models/model.pkl
    deps:
    - path: data/stage3/test.csv
      md5: aba9fbcc51027f1a7cb59e23e990762b
      size: 1701
    - path: models/model.pkl
      md5: d762f17147f8fd4e5fba1ca2aa8f193e
      size: 1417
    - path: scripts/model_scripts/evaluate.py
      md5: 63abba25d9fa0daab4db0d7ee2fecf22
      size: 570
    outs:
    - path: evaluate/score.json
      md5: 672fedf9a94383e23b53905d8320da10
      size: 28
